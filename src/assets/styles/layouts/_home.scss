@use "../abstracts/variables" as *;
@use "../abstracts/m" as m;

/* ===== Helpers ===== */
.visually-hidden {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; border: 0; white-space: nowrap; clip-path: inset(50%);
}

/* ===== Hero ===== */
.hero {
  position: relative; isolation: isolate; overflow: hidden; background: $grad-hero;

  &__content {
    @include m.container;

    display: grid; gap: $space-6; padding: $space-8 0;
  }

  &__title { font-size: fluid(2.6rem, $fs-900); line-height: 1.05; color: $blue-900; margin: 0; }
  &__subtitle { font-size: fluid(1.05rem, 1.4rem); color: $neutral-800; margin: 0; }

  &__cta {
    display: inline-flex; align-items: center; gap: $space-3;
    background: $orange-700; color: #fff; text-decoration: none;
    padding: $space-3 $space-6; border-radius: $radius-lg; box-shadow: $shadow-soft;
    font-weight: 700; cursor: pointer; position: relative; z-index: 1;
    &:hover { background: $orange-500; }
  }

  &__media { @include m.container; margin-top: $space-6; }

  &__img { width: 100%; height: auto; mix-blend-mode: multiply; filter: saturate(1.05) contrast(1.03); border-radius: $radius-xl; }
  &__caption { font-size: $fs-200; color: $neutral-800; margin-top: $space-2; }

  &::before {
    content: ""; position: absolute; inset: 0;
    background:
      linear-gradient(transparent 95%, rgba(0, 0, 0, 0.06) 96%) 0 0 / 100% 120px,
      linear-gradient(90deg, transparent 95%, rgba(0, 0, 0, 0.06) 96%) 0 0 / 120px 100%;
    opacity: .35; pointer-events: none;
  }

  @include m.mq(md) {
    &__content {
      grid-template-columns: 1fr; justify-items: center; text-align: center; align-content: center;
      gap: $space-6; padding: $space-8 0;
    }
    &__title, &__subtitle { max-width: 65ch; }
    &__cta { justify-self: center; }
    &__media { margin-top: $space-6; }
  }
}

/* ===== Sections ===== */
.section {
  padding: $space-12 0;

  &--light { background: $neutral-200; }
  &__inner { @include m.container; }
  &__header { margin-bottom: $space-4; }
  &__title { font-size: $fs-700; color: $blue-900; margin: 0; }
  &__lead  { font-size: $fs-300; color: $neutral-800; }
}

/* ===== Cards ===== */
.cards { display: grid; gap: $space-8; }

@include m.mq(md) { .cards { grid-template-columns: repeat(2, 1fr); } }

@include m.mq(lg) { .cards { grid-template-columns: repeat(3, 1fr); } }

.card {
  background: $neutral-100; border-radius: $radius-xl; overflow: hidden; box-shadow: $shadow-soft;
  display: flex; flex-direction: column;

  &__media { aspect-ratio: 16/10; overflow: hidden; }
  &__img { width: 100%; height: 100%; object-fit: cover; transform: scale(1.02); transition: transform .35s; }
  &__body { padding: $space-6; display: grid; gap: $space-3; }
  &__title { font-size: $fs-300; color: $blue-900; margin: 0; }
  &__text { color: $neutral-800; }
  &__link { color: $orange-700; text-decoration: none; font-weight: 700; }

  &:hover .card__img { transform: scale(1.06); }
}

/* ===== Grid features ===== */
.grid { display: grid; gap: $space-6; }

@include m.mq(md) { .grid { grid-template-columns: repeat(3, 1fr); } }

.feature {
  padding: $space-6; border-left: 4px solid $orange-500; background: $neutral-100;
  border-radius: $radius-lg; box-shadow: $shadow-soft;
  &__title { font-size: $fs-300; color: $blue-700; margin: 0; }
  &__text  { color: $neutral-800; }
}

/* ===== Lists ===== */
.list { padding-left: m.rem(20); }
.list__item { margin-bottom: .5rem; }

/* ===== Map ===== */
.map__img { width: 100%; border-radius: $radius-xl; box-shadow: $shadow-soft; }

/* ===== Form ===== */
.form { display: grid; gap: $space-2; max-width: 680px; }
.form__row { display: grid; gap: $space-2; }
.form__label { font-weight: 600; color: $blue-900; }

.form__input,
.form__select {
  padding: $space-3 $space-4; border: 1px solid $neutral-200; border-radius: $radius-lg; background: $neutral-100;
  &:focus { outline: 2px solid $orange-500; outline-offset: 2px; }
}

.form__submit {
  background: $blue-700; color: $neutral-100; border: 0; padding: $space-3 $space-6;
  border-radius: $radius-lg; font-weight: 700; cursor: pointer; margin-bottom: $space-4;
  &:hover { background: $blue-500; }
}

/* ===== Responsive tweaks ===== */
@media (width <= 479px) {
  .site-header__bar { padding: $space-3 0; }
  .site-nav__list { gap: $space-2; }
  .hero__title { font-size: fluid(2rem, 3.2rem); }
}
